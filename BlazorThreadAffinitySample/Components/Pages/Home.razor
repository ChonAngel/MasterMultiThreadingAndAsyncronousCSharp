@page "/"

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.


<br />
<br />

@currentTime

<br />
<br />

<button type="button"
class="btn btn-primary"
@onclick="DisplayTime">
    Display Time
</button>

@code {
    string currentTime = string.Empty;

    // void DisplayTime()
    // {
    //     Thread thread = new Thread((UpdateCurrentTime) =>
    //     {           
    //         Thread.Sleep(500);
    //         currentTime = DateTime.Now.ToString();
    //         // Take care access the resource that created with in the thread in itsekf
    //         base.InvokeAsync(StateHasChanged);
    //     });
    //     thread.Start();
    // }

    async Task OnDisplayTimeClicked()
    {
        await DisplayTime();
    }

    async Task DisplayTime()
    {
        await Task.Delay(500);
        currentTime = DateTime.Now.ToString();
        StateHasChanged();
    }
}

